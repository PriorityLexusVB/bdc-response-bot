
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Lexus BDC Generator</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    async function generateResponse() {
      const lead = document.getElementById("leadInput").value.trim();
      const tone = document.getElementById("tone").value;
      const style = document.getElementById("style").value;
      const output = document.getElementById("responseOutput");

      if (!lead || !tone || !style) {
        alert("Please enter lead info and select both tone and style.");
        return;
      }

      output.value = "Generating response...";

      const response = await fetch("https://bdc-response-backend.onrender.com/generate", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ lead, tone, style })
      });

      const data = await response.json();
      const result = data.choices?.[0]?.message?.content || data.error || "Error generating response.";
      output.value = result;
    }

    function copyToClipboard() {
      const output = document.getElementById("responseOutput");
      output.select();
      document.execCommand("copy");
    }
  </script>
</head>
<body class="bg-gray-50 p-6 font-sans">
  <div class="max-w-2xl mx-auto bg-white shadow-md rounded-xl p-6">
    <h1 class="text-2xl font-bold mb-4 text-gray-800">Lexus BDC Response Generator</h1>

    <label class="block mb-2 text-sm font-medium text-gray-700">Customer Lead Info</label>
    <textarea id="leadInput" rows="4" class="w-full p-3 border rounded-xl mb-4"></textarea>

    <label class="block mb-2 text-sm font-medium text-gray-700">Select Tone</label>
    <select id="tone" class="w-full p-3 border rounded-xl mb-4">
      <option value="">-- Select a tone --</option>
      <option value="Direct">Direct</option>
      <option value="Luxury">Luxury</option>
      <option value="Empathetic">Empathetic</option>
      <option value="Casual">Casual</option>
    </select>

    <label class="block mb-2 text-sm font-medium text-gray-700">Response Style</label>
    <select id="style" class="w-full p-3 border rounded-xl mb-4">
      <option value="">-- Select a style --</option>
      <option value="Initial Email">Initial Email</option>
      <option value="Initial Text">Initial Text</option>
      <option value="Email Reply">Email Reply</option>
      <option value="Text Response">Text Response</option>
    </select>

    <button onclick="generateResponse()" class="w-full bg-black text-white font-bold py-2 px-4 rounded-xl mb-4">Generate Response</button>

    <label class="block mb-2 text-sm font-medium text-gray-700">AI Response</label>
    <textarea id="responseOutput" rows="6" class="w-full p-3 border rounded-xl mb-2" readonly></textarea>
    <button onclick="copyToClipboard()" class="w-full bg-gray-800 text-white py-2 px-4 rounded-xl">Copy to Clipboard</button>
  </div>
</body>
</html>
